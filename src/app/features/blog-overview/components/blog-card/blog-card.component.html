<mat-card
  class="blog-post-card"
  [class.featured]="post().featured"
  [class.first-post]="isFirst()"
  [class.last-post]="isLast()"
  [class.even-post]="isEven()"
>
  <!-- Featured Badge -->
  @if (post().featured) {
    <div class="featured-badge">
      <mat-icon>star</mat-icon>
      Featured
    </div>
  }

  <!-- Post Image -->
  <div class="post-image-container">
    <img
      [ngSrc]="post().imageUrl"
      [alt]="post().title"
      class="post-image"
      loading="lazy"
      width="350"
      height="200"
    />
  </div>

  <mat-card-header>
    <mat-card-title>{{ post().title }}</mat-card-title>
    <mat-card-subtitle>
      von {{ post().author }} â€¢ {{ formatDate(post().publishDate) }}
    </mat-card-subtitle>
  </mat-card-header>

  <mat-card-content>
    <p class="post-preview">
      {{ getPreviewContent(post().content) }}
    </p>

    <div class="post-meta">
      <mat-chip-set>
        <mat-chip [color]="getCategoryColor(post().category)">
          {{ post().category }}
        </mat-chip>
        @for (tag of post().tags; track tag) {
          <mat-chip>{{ tag }}</mat-chip>
        }
      </mat-chip-set>
    </div>
  </mat-card-content>

  <mat-card-actions align="end">
    <button mat-button color="primary" (click)="onReadMore()">
      <mat-icon>read_more</mat-icon>
      Weiterlesen
    </button>
    <button mat-icon-button>
      <mat-icon>share</mat-icon>
    </button>
    <button mat-icon-button (click)="onLikeClick()" [color]="post().likedByMe ? 'warn' : ''">
      <mat-icon>{{ post().likedByMe ? 'favorite' : 'favorite_border' }}</mat-icon>
      @if (post().likes && post().likes > 0) {
        <span class="like-count">{{ post().likes }}</span>
      }
    </button>
  </mat-card-actions>
</mat-card>
