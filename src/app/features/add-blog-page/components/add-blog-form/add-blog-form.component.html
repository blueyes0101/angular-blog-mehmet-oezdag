<div class="add-blog-form">
  <form [formGroup]="blogForm" (ngSubmit)="onSubmit()" novalidate>
    <!-- Title Field -->
    <div class="form-field">
      <label for="title" class="form-label">Title *</label>
      <input
        id="title"
        type="text"
        formControlName="title"
        class="form-input"
        [class.invalid]="isFieldInvalid('title')"
        [attr.aria-invalid]="isFieldInvalid('title')"
        [attr.aria-describedby]="isFieldInvalid('title') ? 'title-error' : null"
        placeholder="Enter blog title"
        maxlength="120"
      />
      <div
        *ngIf="isFieldInvalid('title')"
        id="title-error"
        class="error-message"
        role="alert"
        aria-live="polite"
      >
        {{ getFieldError('title') }}
      </div>
    </div>

    <!-- Content Field -->
    <div class="form-field">
      <label for="content" class="form-label">Content *</label>
      <textarea
        id="content"
        formControlName="content"
        class="form-textarea"
        [class.invalid]="isFieldInvalid('content')"
        [attr.aria-invalid]="isFieldInvalid('content')"
        [attr.aria-describedby]="isFieldInvalid('content') ? 'content-error' : null"
        placeholder="Write your blog content here"
        rows="10"
        maxlength="20000"
      ></textarea>
      <div
        *ngIf="isFieldInvalid('content')"
        id="content-error"
        class="error-message"
        role="alert"
        aria-live="polite"
      >
        {{ getFieldError('content') }}
      </div>
    </div>

    <!-- Success Message -->
    <div *ngIf="showSuccessMessage" class="success-message" role="alert" aria-live="polite">
      <span class="success-icon">âœ“</span>
      Blog post created successfully!
    </div>

    <!-- Form Actions -->
    <div class="form-actions">
      <button
        type="button"
        class="btn btn-secondary"
        (click)="onReset()"
        [disabled]="isLoading"
      >
        Reset
      </button>
      
      <!-- Submit button - hidden until form is valid -->
      <button
        *ngIf="isFormValid()"
        type="submit"
        class="btn btn-primary"
        [disabled]="isLoading"
      >
        <span *ngIf="isLoading" class="spinner" aria-hidden="true"></span>
        <span *ngIf="isLoading">Saving...</span>
        <span *ngIf="!isLoading">Publish/Save</span>
      </button>
    </div>
  </form>
</div>
